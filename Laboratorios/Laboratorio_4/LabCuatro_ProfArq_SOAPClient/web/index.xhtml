<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Laboratorio #4</title>
    </h:head>
    <h:body>
        <center>
            <div style="width: 80%;">
                    <h1>Laboratorio #4</h1>
                    <br /><br />
                    <p:tabView>
                        <p:tab title="Convertidor de Moneda" >
                            <h:form id="convertCurrencyForm" >
                                <p:panelGrid columns="2">
                                    <p:panel header="Moneda Original" >
                                        <p:selectOneMenu id="sourceCurrencySelectOneMenu" 
                                                         style="width: 215px;"
                                                         value="#{currencyManagedBean.sourceCurrency}">
                                            <f:selectItems value="#{currencyManagedBean.currencyList}" />
                                        </p:selectOneMenu>
                                    </p:panel>
                                    <p:panel header="Moneda Destino" >
                                        <p:selectOneMenu id="targetCurrencySelectOneMenu" 
                                                         style="width: 215px;"
                                                         value="#{currencyManagedBean.targetCurrency}">
                                            <f:selectItems value="#{currencyManagedBean.currencyList}" />
                                        </p:selectOneMenu>
                                    </p:panel>
                                </p:panelGrid>
                                <br />
                                <p:outputLabel for="amountInputText" value="Cantidad" /><p:spacer width="30" />
                                <p:inputText id="amountInputText" type="number"
                                             value="#{currencyManagedBean.amount}" 
                                             validatorMessage="Error Cantidad: Debe ser mayor o igual a cero">
                                    <f:validateDoubleRange minimum="0" />
                                </p:inputText>
                                <br /> <br />
                                <p:commandButton value="Convertir" action="#{currencyManagedBean.convertCurrency}" />
                                <br /><br /><br />
                                <p:messages id="convertCurrencyMessages" showDetail="false" 
                                            autoUpdate="true" closable="true" />
                            </h:form>
                        </p:tab>

                        <p:tab title="Validar Tarjeta de Cr&eacute;dito" >
                            <h:form id="validateCreditCardForm">
                                <p:panelGrid columns="2" layout="grid" style="width: 50%">
                                    <p:outputLabel for="creditCardNumber" 
                                                   value="N&uacute;mero de Tarjeta de Cr&eacute;dito" />
                                    <p:inputText id="creditCardNumber" type="text" maxlength="16"
                                                 value="#{creditCardManagedBean.creditCardNumber}" 
                                                 validatorMessage="Error N&uacute;mero de Tarjeta de Cr&eacute;dito: Ingrese un n&uacute;mero de 16 d&iacute;gitos">
                                        <f:validateLength maximum="16" minimum="16" />
                                    </p:inputText>

                                    <p:outputLabel for="ccvNumber" value="N&uacute;mero CCV" />
                                    <p:inputText id="ccvNumber" type="text" maxlength="4"
                                                 value="#{creditCardManagedBean.ccvNumber}" 
                                                 validatorMessage="Error N&uacute;mero CCV: Ingrese un n&uacute;mero de al menos 3 d&iacute;gitos y m&aacute;ximo de 4">
                                        <f:validateLength maximum="4" minimum="3" />
                                    </p:inputText>

                                    <p:outputLabel for="expirationYear" value="A&ntilde;o de Expiraci&oacute;n" />
                                    <p:inputText id="expirationYear" type="number" maxlength="4"
                                                 value="#{creditCardManagedBean.expirationYear}" 
                                                 validatorMessage="Error A&ntilde;o de Expiraci&oacute;n: Ingrese un valor entre 0 y 2015">
                                        <f:validateDoubleRange minimum="0" maximum="2015" />
                                    </p:inputText>

                                    <p:outputLabel for="expirationMonth" value="Mes de Expiraci&oacute;n" />
                                    <p:inputText id="expirationMonth" type="number" maxlength="2" 
                                                 value="#{creditCardManagedBean.expirationMonth}" 
                                                 validatorMessage="Error Mes de Expiraci&oacute;n: Ingrerse un valor entre 1 y 12">
                                        <f:validateDoubleRange minimum="1" maximum="12" />
                                    </p:inputText>
                                </p:panelGrid>
                                <br /> <br />
                                <p:commandButton  value="Validar" action="#{creditCardManagedBean.validateCreditCard}" />                 
                                <br /><br /><br />
                                <p:messages id="validateCreditCardMessages" showDetail="false" 
                                            autoUpdate="true" closable="true" />
                            </h:form>
                        </p:tab>
                    </p:tabView>
            </div>
        </center>
    </h:body>
</html>