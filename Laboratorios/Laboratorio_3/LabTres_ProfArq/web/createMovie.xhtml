<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Crear Pel&iacute;cula</title>
    </h:head>
    <h:body>
        <f:view>
            <h:form>                
                <p:growl id="growl" showDetail="true" autoUpdate="true"/>
                <center>
                    <p:panel id="newMoviePanel" >
                        <f:facet name="header" >
                            <h:outputText 
                                value="Crear Nueva Pel&iacute;cula" >
                            </h:outputText>
                        </f:facet>
                        <p:panelGrid id="newMoviePanelGrid" columns="1">
                            <h:panelGrid columns="3">
                                <p:outputLabel
                                    for="title" style="font-weight: bold" 
                                    value="T&iacute;tulo" >
                                </p:outputLabel>
                                <p:inputText id="title" size="50"
                                             value="#{movieManagedBean.newMovie.title}"
                                             title="T&iacute;tulo" 
                                             required="true" maxlength="150"
                                             requiredMessage="El t&iacute;tulo es requerido." >
                                </p:inputText>
                                <p:watermark for="title" value="T&iacute;tulo" />
                            </h:panelGrid>
                            <h:panelGrid columns="3">
                                <p:outputLabel
                                    for="pseudonym" style="font-weight: bold" 
                                    value="Seud&oacute;nimo" >
                                </p:outputLabel>
                                <p:inputText id="pseudonym" size="50"
                                             value="#{movieManagedBean.newMovie.pseudonym}"
                                             title="Seud&oacute;nimo" 
                                             required="true" maxlength="150"
                                             requiredMessage="El seud&oacute;nimo es requerido." >
                                </p:inputText>
                                <p:watermark for="pseudonym" value="Seud&oacute;nimo" />
                            </h:panelGrid>
                            <h:panelGrid columns="2">
                                <p:outputLabel
                                    for="releaseDate" style="font-weight: bold" 
                                    value="Lanzamiento" >
                                </p:outputLabel>
                                <p:inputMask id="releaseDate" 
                                             value="#{movieManagedBean.newMovie.releaseDate}" 
                                             mask="9999-99-99"
                                             title="Fecha de Lanzamiento" 
                                             required="true" maxlength="10"
                                             requiredMessage="El t&iacute;tulo es requerido."
                                             size="15" >
                                </p:inputMask>                                
                                <p:watermark for="releaseDate" value="----/--/--" />
                            </h:panelGrid>
                            <h:panelGrid columns="3">
                                <p:outputLabel
                                    for="synopsis" style="font-weight: bold" 
                                    value="Sinopsis" >
                                </p:outputLabel>
                                <p:inputTextarea id="synopsis" 
                                                 value="#{movieManagedBean.newMovie.synopsis}"
                                                 title="Sinopsis" rows="5" cols="73"
                                                 required="true" 
                                                 requiredMessage="La sinopsis es requerida."
                                                 maxlength="500" >
                                </p:inputTextarea>
                                <p:watermark for="synopsis" value="Sinopsis" />
                            </h:panelGrid>
                            <h:panelGrid columns="3">
                                <p:outputLabel
                                    for="duration" style="font-weight: bold" 
                                    value="Duraci&oacute;n" >
                                </p:outputLabel>
                                <p:inputText id="duration"
                                             value="#{movieManagedBean.newMovie.duration}"
                                             title="Duraci&oacute;n" required="true" 
                                             maxlength="3" size="10" 
                                             requiredMessage="La duraci&oacute;n es requerida."
                                             validatorMessage="Duraci&oacute;n: Por favor ingrese solo n&uacute;meros.">
                                    <f:validateDoubleRange minimum="1" maximum="500"/>
                                </p:inputText>                                
                                <p:watermark for="duration" value="Duraci&oacute;n en minutos" />
                            </h:panelGrid>
                            <h:panelGrid columns="3">
                                <p:outputLabel
                                    for="country" style="font-weight: bold" 
                                    value="Pa&iacute;s" >
                                </p:outputLabel>
                                <p:inputText id="country"
                                             value="#{movieManagedBean.newMovie.country}"
                                             title="Pa&iacute;s" required="true" 
                                             maxlength="35" size="30"
                                             requiredMessage="El pa&iacute;s es requerido." >
                                </p:inputText>                                
                                <p:watermark for="country" value="Pa&iacute;s" />
                            </h:panelGrid>
                            <h:panelGrid columns="3">
                                <p:outputLabel
                                    for="language" style="font-weight: bold" 
                                    value="Idioma" >
                                </p:outputLabel>
                                <p:inputText id="language"
                                             value="#{movieManagedBean.newMovie.language}"
                                             title="Idioma" required="true" 
                                             maxlength="25" size="30"
                                             requiredMessage="El idioma es requerido." >
                                </p:inputText>                                
                                <p:watermark for="language" value="Idioma" />
                            </h:panelGrid>
                            <h:panelGrid columns="3">
                                <p:outputLabel
                                    for="classification" style="font-weight: bold" 
                                    value="Clasificaci&oacute;n" >
                                </p:outputLabel>
                                <p:inputText id="classification"
                                             value="#{movieManagedBean.newMovie.classification}"
                                             title="Clasificaci&oacute;n" required="true" 
                                             maxlength="2" size="10"
                                             requiredMessage="La clasificaci&oacute;n es requerida." 
                                             validatorMessage="Clasificaci&oacute;n: Por favor ingrese solo n&uacute;meros" >
                                    <f:validateDoubleRange minimum="0" maximum="99" />
                                    <f:validateLength minimum="1" maximum="2" />
                                </p:inputText>                                
                                <p:watermark for="classification" value="Clasificaci&oacute;n" />
                            </h:panelGrid>
                            <h:panelGrid columns="3">
                                <p:outputLabel
                                    for="director" style="font-weight: bold" 
                                    value="Director" >
                                </p:outputLabel>
                                <p:inputText id="director"
                                             value="#{movieManagedBean.newMovie.director}"
                                             title="Director" required="true" 
                                             maxlength="55" size="30"
                                             requiredMessage="El director es requerido." >
                                </p:inputText>                                
                                <p:watermark for="director" value="Director" />
                            </h:panelGrid>
                            <h:panelGrid columns="3">
                                <p:outputLabel
                                    for="casting" style="font-weight: bold" 
                                    value="Actores" >
                                </p:outputLabel>
                                <p:inputText id="casting"
                                             value="#{movieManagedBean.newMovie.casting}"
                                             title="Director" required="true" 
                                             maxlength="300" size="30"
                                             requiredMessage="Los actores son requeridos." >
                                </p:inputText>                                
                                <p:watermark for="casting" value="Actores" />
                            </h:panelGrid>
                            <h:panelGrid columns="1" >
                                <p:outputLabel
                                    for="genres" style="font-weight: bold;" 
                                    value="G&eacute;neros" >
                                </p:outputLabel>
                                <p:pickList id="genres" value="#{movieManagedBean.genresDualListModel}" 
                                            var="g"
                                            itemValue="#{g}" required="true"
                                            requiredMessage="Seleccione al menos un g&eacute;nero." >
                                    <f:facet name="sourceCaption">Disponible</f:facet>
                                    <f:facet name="targetCaption">Seleccionado</f:facet>
                                    <p:column style="width:40%;">
                                        <h:outputText value="#{g}" ></h:outputText>
                                    </p:column>                                
                                    <p:column style="width:60%;">
                                        <h:outputText value="#{theme.displayName}" ></h:outputText>
                                    </p:column>
                                </p:pickList>
                            </h:panelGrid>
                            <p:spacer height="30" ></p:spacer>

                            <h:panelGrid columns="2">
                                <p:commandButton actionListener="#{movieManagedBean.saveMovie}" 
                                                 value="Guardar Pel&iacute;cula">
                                </p:commandButton>
                                <p:commandButton action="#{movieManagedBean.backToUpdatedFilmsList}"
                                                 process="@this"
                                                 value="Volver">
                                </p:commandButton>
                            </h:panelGrid>
                        </p:panelGrid>
                    </p:panel>
                </center>
            </h:form>
        </f:view>
    </h:body>
</html>

